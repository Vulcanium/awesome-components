<div class="comments-row">
    <mat-form-field>
        <mat-label>Leave a comment...</mat-label>
        <input type="text" matInput [formControl]="commentControl">
    </mat-form-field>

    <button mat-icon-button (click)="onLeaveComment()">
        <mat-icon>send</mat-icon>
    </button>
</div>

@if(comments().length) {

    <mat-list @list>
        <h2 matSubheader>Comments</h2>

        @for(comment of comments(); let i = $index; track comment.id) {
            <mat-list-item [@listItem]="animationStates()[i]" (mouseenter)="onListItemMouseEnter(i)"
                (mouseleave)="onListItemMouseLeave(i)">
                <span class="comment-text" mat-line>{{ comment.comment }}</span>
                <span class="comment-date" mat-line>{{ comment.createdDate | timeAgo }}</span>
            </mat-list-item>
        }
    </mat-list>
}