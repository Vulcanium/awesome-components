<h2>Candidates</h2>

<mat-card>

    <div class="form">
        <mat-form-field appearance="fill">
            <input matInput type="text" [formControl]="searchCandidateControl">
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>

        <div class="form-group">
            <select [formControl]="searchCandidateTypeControl">
                @for(option of searchCandidateTypeOptions; track option.label) {
                <option [value]="option.value">{{ option.label }}</option>
                }
            </select>
        </div>
    </div>

    @if(loading$ | async) {
    <mat-spinner></mat-spinner>
    }

    @if(candidates$ | async; as candidates) {
    <ul>
        @for(candidate of candidates; track candidate.id) {
        <li>
            <a [routerLink]="candidate.id.toString()">
                <img [src]="candidate.imageUrl" [alt]="candidate.lastName">
                <h3>{{ candidate.firstName }} {{ candidate.lastName }}</h3>
                <p>{{ candidate.job }} at {{ candidate.company }}</p>
            </a>
        </li>
        }
    </ul>
    }

</mat-card>